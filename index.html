<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="崇山峻岭">
    
    <meta name="description" content="Coding, Runing, Sharing">
    
    
    
    
    
    
    <title>崇山峻岭</title>
    <!-- inject:style -->
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <!-- endinject -->
    <style>
        .cube-loading {
            top: 0;
            position: fixed;
            width: 100%;
            height: 100%;
            background: url('/images/lg/loading.gif') no-repeat center center;
            background-color: rgba(0,0,0,.7);
        }

        .cube-loading.out {
            display: none;
        }

        .cube-loading:before {
            display: block;
            content: 'Loading';
            position: relative;
            width: 100%;
            top: 50%;
            right: -50%;
            color: #fff;
        }

        @media(max-width: 768px) {
            .cube-loading:before {
                font-size: 1.2em;
                transform: translate(-24px,20px);
                -webkit-transform: translate(-24px,20px);
                -o-transform: translate(-24px,20px);
                -ms-transform: translate(-24px,20px);
            }
        }

        @media(min-width: 768px) {
            .cube-loading:before {

            }
        }
    </style>
    
</head>
<body>
<div class="cube-body">
    <nav id="cube-top-memu" class="cube-menu">
    <ul class="cube-menu-collapse">
        
        <li>
            <i class="cube-icon cube-icon-home" aria-hidden="true"></i>
            <a href="/">首页</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-archive" aria-hidden="true"></i>
            <a href="/archives">归档</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-categories" aria-hidden="true"></i>
            <a href="/categories">分类</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-tags" aria-hidden="true"></i>
            <a href="/tags">标签</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-about" aria-hidden="true"></i>
            <a href="/about-me">关于我</a>
        </li>
        
    </ul>
</nav>
<nav class="cube-side-menu" id="cube-side-menu">
    <ul class="cube-menu-list">
        
        <li>
            <a class="lrc-control">Open Lyrics</a>
        </li>
        
        <li>
            <a class="scroll-to-top">Top</a>
        </li>
    </ul>
</nav>
    <header class="cube-header" id="cube-header">
    <img src=" source/images/timg.png " alt="头部背景图片">
    
    <div class="cube-type">
        <span class="cube-typed-title">崇山峻岭</span>
        <span class="cube-typed-cursor">|</span>
    </div>
    
</header>

    <style>
        nav.cube-menu:before {
            content: '';
            visibility: hidden;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 44px;
        
            filter: blur(5px);
            -webkit-filter: blur(5px);
        
            z-index: -1;
            background-image: url('/images/source/images/timg.png');
            background-repeat: no-repeat;
            background-position: center -356px;
            background-size: cover;
            background-color: transparent;
        }

        header.cube-background.cube-header-background {
            visibility: hidden;
            background-image: url('/images/source/images/timg.png');
            background-position: center -400px;
        }
    </style>
    <header class="cube-background cube-header-background">
        
        <div class="cube-type">
            <span class="cube-typed-title">崇山峻岭</span>
            <span class="cube-typed-cursor">|</span>
        </div>
        
    </header>
    <div class="load-header-background"></div>
    <script>
        (function (window) {

            window.headerModule = {}
            window.headerModule.image = {
                width: '1024',
                height: '340'
            }

        })(window)
    </script>
    
    <div class="cube-content">
        <div class="cube-left">
            
<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2018/01/06/理财总结/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2018-01-06
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="理财总结"><a href="#理财总结" class="headerlink" title="理财总结"></a>理财总结</h1><p>​    理财投资是件大事情，很多朋友觉得当下的自己没有足够的资金，所以想着先攒够一笔钱再去理财，实则不然，为什么？因为当你手里有几百万的资金的时候，你的投资策略根本就没有形成，怎么去驾驭这么多资金？理财不仅仅是去赚钱，而是去打造赚钱的机器，通俗的讲就是去建立一套理财体系，适合自己，并且自己能掌控的体系，当你发现你用1000块钱去理财的时候，搞了几个月亏了几百块，你应该庆幸，还好不是一千万，还有机会去慢慢调整策略，现在你能在一年内把1000块钱理成2000，两千变成4000，那么恭喜你你已经建立了一个很好的体系，y =200%*nm，n为年，m为本金，一旦有一个体系完成，请问赚钱难道不是躺着就能做到的吗？所以说赚钱和理财是一个可以并发执行的程序，不分先后，没有理财意识的你看到这，还没有冲动吗？动起自己银行卡里每年年华收益为负（据说年通货膨胀率8%，银行卡活期收益0.35%，余额宝最近4.x%）那笔小钱，为自己打造一台赚钱的机器，到时候只需把原料本金扔进去，时间动一下，你的资产就会加一点，除非时间倒流，否则你的收益将会源源不断的增加，人生第一个百万很快就会完成，很快王健林的小目标就变成了你的小目标。</p>
<p>​     下面总结一下我的理财路程，2014年余额宝开启了我理财之路，很多人还不敢用支付宝的时候我已经把所有手里的钱全部放到了余额宝，那时候每天会来看看收益了一毛几，虽然明知道收益就是一毛几，后来接触了百度理财，年化6.+，15年11月接触了基金，那时候1000放进去一天涨了十几块，非常惊讶，然后就一股脑把手里仅有的五千多块钱全部放进去了，2016年一月份证监会实行熔断策略，开盘第一天大盘熔断，我的基金当天下跌八个点，意味着一天就跌掉了400多块，这样持续了几天，亏损了一千多块，这是我第一次真实感受到风险与收益并存，前面说过我应该庆幸当时只有五千块而不是五千万，17年5月接触p2p，这个相对股票稍微风险低一点的市场，开启了新的投资方式，2017半年多的时间，用20000多块资金撬动一切可以利用的资源，一共赚了5000多块，当然我目前的模式风险非常高但是对于这台机器的打造还在继续，相信这台机器必定能稳定运行，到时候我只需要往里面扔点钱，出来的都是白花花的银子，想想都很美，哈哈，以上纯属臆想。  </p>
<p>​                                                                            20180106总结理财</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2018/01/06/理财总结/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2017/08/24/iOS开发之VFL布局总结/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2017-08-24
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="iOS开发之VFL布局总结"><a href="#iOS开发之VFL布局总结" class="headerlink" title="iOS开发之VFL布局总结"></a>iOS开发之VFL布局总结</h1><p>VFL是苹果推出的用来AutoLayout布局的一门比较形象的语言, 本身为字符串,虽然用起来比较麻烦,  但是相比直接使用苹果的另一个套布局方案要少写一些代码,  那么问题来了, github上那么多自动布局的框架, 简单又好用, 为什么要用这么复杂的代码去布局呢,  之前我也这么想, 直到有一天自己想封装一个框架的的时候才发现, 不能处处依赖别人的框架去封装, 因为这样的话, 你封装的框架几乎没法用.  举个例子, 假设你的框架用了AFN的2.0版本, 那么对于使用框架的人来说, 他们项目中如果使用了AFN3.0, 那么肯定出出现一大堆兼容问题,  因此对于自己的封装的框架, 要以原生为主. 废话不多说 下面总结一下我半天的的学习成果: VFL布局</p>
<p>下面是VFL使用的一个核心方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+ (NSArray&lt;__kindof NSLayoutConstraint *&gt; *)constraintsWithVisualFormat:(NSString *)format </span><br><span class="line">  options:(NSLayoutFormatOptions)opts </span><br><span class="line">  metrics:(nullable NSDictionary&lt;NSString *,id&gt; *)metrics </span><br><span class="line">  	views:(NSDictionary&lt;NSString *, id&gt; *)views;</span><br></pre></td></tr></table></figure>
<p>该方法一共有四个参数, 接下来将一一讲解四个参数的含义及其使用:</p>
<ol>
<li>format参数: 这个是具体布局的字符串,形如 <strong>@”V:|-10-[view1(50.0)]-20-[view2(50.0)]”</strong> 稍后再讲解此字符串的意思;</li>
<li>option参数: 这个参数是一个可复选的参数,  主要用来布局view的对齐方式;</li>
<li>metrics参数: 这个参数是替换VFL字符串中的变量用的,  如果这么写: <strong>@{@”topMargin”:@10}</strong>  则第一条中的布局可以替换成下面的写法: <strong>@”V:|-10-[view1(50.0)]-20-[view2(50.0)]”</strong> 其实就是替换字符串中的变量使用;</li>
<li>views参数: 这个参数是用来存储本条VFL语句中所有用到的View,   可以直接创建字典  <strong>@{@”view1”:view1, @”view2”:view2}</strong> 对于这个参数苹果有一个特定的宏, <strong>NSDictionaryOfVariableBindings()</strong>  因此也可以这样写 <strong>NSDictionaryOfVariableBindings(view1, view2)</strong> ;</li>
</ol>
<p>该方法返回的是一个装有约束的数组集合;可以直接添加到设定约束view的父view上;</p>
<p>如果你对上面的解释不太理解下面用代码具体举个列子,相信你立马回恍然大悟</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    [self testConstraint];</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">- (void)testConstraint &#123;//测试布局</span><br><span class="line"></span><br><span class="line">    UIView *supView1 = [[UIView alloc] init];</span><br><span class="line">    supView1.backgroundColor =  [UIColor blueColor];</span><br><span class="line">    </span><br><span class="line">    UIView *supView2 = [[UIView alloc] init];</span><br><span class="line">    supView2.backgroundColor =  [UIColor blueColor];</span><br><span class="line"></span><br><span class="line">    [self.view addSubview:supView1];</span><br><span class="line">    [self.view addSubview:supView2];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    //由于AutoLayout布局和Autoresizing布局是冲突的,因此要使用AutoLayout必须要关闭Autoresizing</span><br><span class="line">    self.view.translatesAutoresizingMaskIntoConstraints = NO;</span><br><span class="line">    supView2.translatesAutoresizingMaskIntoConstraints = NO;</span><br><span class="line">    supView1.translatesAutoresizingMaskIntoConstraints = NO;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    //此语句的意思是 垂直方向: supView1距离父view的距离为 topMargin,</span><br><span class="line">    //supView1的垂直方向的宽度为50.0, supView2距离supView1为20, 并且高度也为50.0;</span><br><span class="line">    NSString *top = @&quot;V:|-topMargin-[supView1(50.0)]-20-[supView2(50.0)]&quot;;</span><br><span class="line">    //解释方法同上</span><br><span class="line">    NSString *left = @&quot;H:|-10-[supView1(50.0)]&quot;;</span><br><span class="line">    NSString *v2T = @&quot;[supView2(60.0)]&quot;;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    //此处需要对topMargin参数进行解释, 其实就是给topMargin赋值;</span><br><span class="line">    NSArray *s1T = [NSLayoutConstraint constraintsWithVisualFormat:top options:NSLayoutFormatAlignAllRight metrics:@&#123;@&quot;topMargin&quot;:@100&#125; views:NSDictionaryOfVariableBindings(supView1, supView2)];</span><br><span class="line"></span><br><span class="line">    NSArray *s1L = [NSLayoutConstraint constraintsWithVisualFormat:left options:0 metrics:nil views:NSDictionaryOfVariableBindings(supView1)];</span><br><span class="line">    NSArray *v2Tc = [NSLayoutConstraint constraintsWithVisualFormat:v2T options:0 metrics:nil views:NSDictionaryOfVariableBindings(supView2)];</span><br><span class="line">    </span><br><span class="line">    //一般需要把约束添加到父view上</span><br><span class="line">    [self.view addConstraints:v2Tc];</span><br><span class="line">    [self.view addConstraints:s1T];</span><br><span class="line">    [self.view addConstraints:s1L];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下图:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/2003889-b38986a376979dbb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="40155A04-EA83-4B25-A802-B601F830EA29.png"></p>
<p>上面的例子只是简单的使用了一下VFL语句, 其实还有更多的东西, 需要自己去慢慢的理解体会多使用, 熟练了就好了,  对于其他的VFL语句的用法请参考附录里面的详细使用</p>
<h3 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h3><ol>
<li><p>符号含义</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">|: 	表示父视图</span><br><span class="line">-:  表示距离</span><br><span class="line">V:  表示垂直</span><br><span class="line">H:  表示水平</span><br><span class="line">&gt;=: 表示视图间距、宽度和高度必须大于或等于某个值</span><br><span class="line">    &lt;= :表示视图间距、宽度和高度必须小宇或等于某个值</span><br><span class="line">    == :表示视图间距、宽度或者高度必须等于某个值</span><br><span class="line">@:  优先级 最大为  1000</span><br></pre></td></tr></table></figure>
</li>
<li><p>一般用法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">|-[view]-|: 						    视图处在父视图的左右边缘内</span><br><span class="line">|-[view]  :  		 					视图处在父视图的左边缘</span><br><span class="line">|[view]   :   							视图和父视图左边对齐</span><br><span class="line">V:[view(100.)]  :  					    设置视图的高度 </span><br><span class="line">H:[view(100.)]  :  					    设置视图的宽度</span><br><span class="line">|-30.0-[view]-30.0-|:       			表示离父视图 左右间距  30</span><br><span class="line">|-[view(view1)]-[view1]-| :    			View和view1视图宽度一样，并且在父视图内</span><br><span class="line">V:|-padding-[imageView]-&gt;=0-[button]-padding| : 表示离父视图的距离为Padding,这两个视图间距必须大于或等于0并且距离底部父视图为padding。此时必须对 metrics参数赋值eg.  metrics:@&#123;@&quot;topMargin&quot;:@100&#125;;</span><br><span class="line"></span><br><span class="line">[wideView(&gt;=60@700)]  :视图的宽度为至少为60 优先级为700</span><br><span class="line"></span><br><span class="line">最后要注意, H可以忽略, 默认为水平布局 , V必须要写!!!</span><br></pre></td></tr></table></figure>
<p>​</p>
</li>
</ol>
<p>好了码了半天终于大功告成, 希望此博客对你有帮助, 记得点赞哦~</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2017/08/24/iOS开发之VFL布局总结/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2017/08/18/iOS开发 const 和 static 关键字的作用/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2017-08-18
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="iOS开发-const-和-static-关键字的作用"><a href="#iOS开发-const-和-static-关键字的作用" class="headerlink" title="iOS开发 const 和 static 关键字的作用"></a>iOS开发 const 和 static 关键字的作用</h1><h4 id="1-static"><a href="#1-static" class="headerlink" title="1. static"></a>1. static</h4><p>1)在函数体内，一个被声明为静态的变量在这一函数被调用过程中维持其值不变（该变量存放在静态变量区）。</p>
<p>2) 在模块内（但在函数体外），一个被声明为静态的变量可以被模块内所用函数访问，但不能被模块外其它函数访问。它是一个本地的全局变量。</p>
<p>3) 在模块内，一个被声明为静态的函数只可被这一模块内的其它函数调用。那就是，这个函数被限制在声明它的模块的本地范围内使用。</p>
<p>　</p>
<h3 id="2-const"><a href="#2-const" class="headerlink" title="2.const"></a>2.const</h3><p>如果你读过Bjarne的《The C++ Programming Language》，就应该接触过他所提到的办法，把*读成”pointer to(指向)”，同时声明从右向左读。解释如下： </p>
<p>char <em> const p; // p is a const pointer to char; p是指向char的常量指针(char不是常量)char const </em> p; // p is a pointer to const char;  p是指向常量char的指针(p不是常量)const char <em> p; // 同上。因为C++标准规定，const关键字放在类型或变量名之前等价的。C++里面没有const</em>的运算符</p>
<p>1) 关键字const的作用是为给读你代码的人传达非常有用的信息，实际上，声明一个参数为常量是为了告诉了用户这个参数的应用目的。如果你曾花很多时间清理其它人留下的垃圾，你就会很快学会感谢这点多余的信息。（当然，懂得用const的程序员很少会留下的垃圾让别人来清理的。）</p>
<p>2) 通过给优化器一些附加的信息，使用关键字const也许能产生更紧凑的代码。</p>
<p>3) 合理地使用关键字const可以使编译器很自然地保护那些不希望被改变的参数，防止其被无意的代码修改。简而言之，这样可以减少bug的出现。</p>
<p>const关键字至少有下列n个作用：</p>
<p>（1）欲阻止一个变量被改变，可以使用const关键字。在定义该const变量时，通常需要对它进行初始化，因为以后就没有机会再去改变它了；<br>（2）对指针来说，可以指定指针本身为const，也可以指定指针所指的数据为const，或二者同时指定为const；<br>（3）在一个函数声明中，const可以修饰形参，表明它是一个输入参数，在函数内部不能改变其值；<br>（4）对于类的成员函数，若指定其为const类型，则表明其是一个常函数，不能修改类的成员变量；<br>（5）对于类的成员函数，有时候必须指定其返回值为const类型，以使得其返回值不为“左值”。例如：<br>const classA operator<em>(const classA&amp; a1,const classA&amp; a2);<br>　　operator</em>的返回结果必须是一个const对象。如果不是，这样的变态代码也不会编译出错：<br>classA a, b, c;<br>(a <em> b) = c; // 对a</em>b的结果赋值<br>　　操作(a * b) = c显然不符合编程者的初衷，也没有任何意义。</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2017/08/18/iOS开发 const 和 static 关键字的作用/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2017/06/16/画图/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2017-06-16
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="iOS开发简单的绘图"><a href="#iOS开发简单的绘图" class="headerlink" title="iOS开发简单的绘图"></a>iOS开发简单的绘图</h1><h3 id="1-画线"><a href="#1-画线" class="headerlink" title="1. 画线"></a>1. 画线</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- (void)test1 &#123;//画一根线</span><br><span class="line">    //1, 获取上下文</span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    //2. 起点和终点</span><br><span class="line">    CGContextMoveToPoint(contextRef, 0, 0);</span><br><span class="line">    CGContextAddLineToPoint(contextRef, 100, 100);</span><br><span class="line">    //3. 绘制</span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下图:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (void)test2 &#123;//画多个线</span><br><span class="line">    //获取上下文</span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    //设置线的路径,  c语言数组</span><br><span class="line">    CGPoint points[] = &#123;</span><br><span class="line">        CGPointMake(0, 0),</span><br><span class="line">        CGPointMake(50, 50),</span><br><span class="line">        CGPointMake(0, 50),</span><br><span class="line">        CGPointMake(50, 100),</span><br><span class="line">        CGPointMake(0, 0)</span><br><span class="line">    &#125;;</span><br><span class="line">    CGContextAddLines(contextRef, points, 5);</span><br><span class="line">    //绘制</span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下图:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- (void)test3 &#123;//画矩形</span><br><span class="line"> </span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    //添加路径</span><br><span class="line">    CGContextAddRect(contextRef, CGRectMake(20, 40, 100, 100));</span><br><span class="line">    // 绘制</span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下图:</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)test4 &#123;<span class="comment">//画圆弧</span></span><br><span class="line">    <span class="comment">//获取当前上下文</span></span><br><span class="line">    <span class="built_in">CGContextRef</span> contextRef = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line">    <span class="comment">//设置起点</span></span><br><span class="line">    <span class="built_in">CGContextMoveToPoint</span>(contextRef, <span class="number">200</span>, <span class="number">50</span>);</span><br><span class="line">    <span class="comment">//添加路径  这个方法用起来有点复杂,  首先要有当前点假设为P0(200, 50),</span></span><br><span class="line">    <span class="comment">//其次是第一个点P1(50, 50),  然后是第二个点P2(50, 200);, 最后一个参数是半径,</span></span><br><span class="line">    <span class="comment">//绘制先从P0-&gt;P1, 画一条直线, 然后画一条弧线, 会显得要求是与直线P0P1, 和直线P1P2 相切,并且半径是50.</span></span><br><span class="line">    <span class="built_in">CGContextAddArcToPoint</span>(contextRef, <span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>, <span class="number">200</span>, <span class="number">50</span>);</span><br><span class="line">    <span class="comment">//绘制</span></span><br><span class="line">    <span class="built_in">CGContextStrokePath</span>(contextRef);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- (void)test5 &#123;//圆弧2 or圆</span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    //设置路径</span><br><span class="line">    // CGContextAddArc(上下文, 圆心x, 圆心y, 半径, 其实弧度, 结束弧度, 方向(逆时针和顺时针))</span><br><span class="line">//    CGContextAddArc(contextRef, 50, 50, 50, 0, M_PI, 0);//圆弧</span><br><span class="line">    CGContextAddArc(contextRef, 50, 50, 50, 0, 2*M_PI, 0);//圆形</span><br><span class="line"> </span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下图:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- (void)test6 &#123; //画一个同心圆</span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    CGContextAddArc(contextRef, 50, 50, 50, 0, 2*M_PI, 0);//圆形</span><br><span class="line">    //画过一个之后要讲其实点移动到下一个圆上,</span><br><span class="line">    CGContextMoveToPoint(contextRef, 80, 50);</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    CGContextAddArc(contextRef, 50, 50, 30, 0, 2*M_PI, 0);//圆形</span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下图:</p>
<p>由于时间原因从下面开始不再截图 , 想看效果的可以自己拷贝, 或者下载我的源码自己查看, 哈哈, </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">- (void)test10 &#123; //关闭路径的设置</span><br><span class="line">    CGContextRef ctx = UIGraphicsGetCurrentContext();</span><br><span class="line">    CGPoint points[4] = &#123;</span><br><span class="line">        CGPointMake(50, 50),</span><br><span class="line">        CGPointMake(150, 50),</span><br><span class="line">        CGPointMake(150, 150),</span><br><span class="line">        CGPointMake(50, 150)</span><br><span class="line">    &#125;;</span><br><span class="line">    CGContextAddLines(ctx, points, 4);</span><br><span class="line">    CGContextClosePath(ctx);//连接起始点</span><br><span class="line">   </span><br><span class="line">//    CGContextFillPath(ctx);  //填充</span><br><span class="line">   // CGContextStrokePath(ctx); //划线,</span><br><span class="line">                //    CGPathDrawingMode &#123;</span><br><span class="line">                //        kCGPathFill,           //填充</span><br><span class="line">                //        kCGPathEOFill,           // eo填充, 即  奇偶填充</span><br><span class="line">                //        kCGPathStroke,//划线</span><br><span class="line">                //        kCGPathFillStroke,//填充划线</span><br><span class="line">                //        kCGPathEOFillStroke//奇偶划线</span><br><span class="line">                //    &#125;</span><br><span class="line">    [[UIColor blueColor] setFill];</span><br><span class="line">    CGContextDrawPath(ctx,  kCGPathFill);// 等同CGContextFillPath(ctx)</span><br><span class="line">//     CGContextDrawPath(ctx,  kCGPathEOFill);</span><br><span class="line">//    CGContextDrawPath(ctx,  kCGPathStroke);//等同 CGContextStrokePath(ctx);</span><br><span class="line">//    CGContextDrawPath(ctx,  kCGPathFillStroke); </span><br><span class="line">// CGContextDrawPath(ctx,  kCGPathEOFillStroke);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)test9 &#123;//贝塞尔曲线</span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    CGContextMoveToPoint(contextRef, 50, 50);</span><br><span class="line">//    CGContextAddQuadCurveToPoint(上下文, 控制点x, 控制点y, 结束点x, 结束点y)</span><br><span class="line">    CGContextAddQuadCurveToPoint(contextRef, 100, 0, 150, 50);</span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)test8 &#123; //虚线</span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    CGContextMoveToPoint(contextRef, 0, 20);</span><br><span class="line">    CGContextAddLineToPoint(contextRef, 200, 20);</span><br><span class="line">    CGFloat lengths[] = &#123;</span><br><span class="line">       10, 5, 20, 30</span><br><span class="line">    &#125;;</span><br><span class="line">//    CGContextSetLineDash(上下文, 偏移(第一段线段的长度为  lengths[0]-偏移的距离), 线段数组, 数量);</span><br><span class="line">    </span><br><span class="line">    CGContextSetLineDash(contextRef, 5, lengths, 4);</span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (void)test7 &#123;//设置线的特性</span><br><span class="line">    CGContextRef contextRef = UIGraphicsGetCurrentContext();</span><br><span class="line">    </span><br><span class="line">    CGContextAddRect(contextRef, CGRectMake(50, 50, 150, 150));</span><br><span class="line">    CGContextSetLineWidth(contextRef, 5);//线宽</span><br><span class="line">//    CGContextSetRGBStrokeColor(contextRef, 1, 0, 0, 1);//颜色</span><br><span class="line">    [[UIColor blueColor] setStroke];//同上,</span><br><span class="line">    CGContextSetLineJoin(contextRef, kCGLineJoinRound);</span><br><span class="line">    </span><br><span class="line">    CGContextStrokePath(contextRef);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以上是绘图的入门, 绘制基本的几何图形, 时间允许的话, 我再总结一下稍微复杂点的绘图内容</p>
<p>上面的demo地址: <a href="https://github.com/wangjunling888/DemoOfDrawPicture.git" target="_blank" rel="noopener">https://github.com/wangjunling888/DemoOfDrawPicture.git</a></p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2017/06/16/画图/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2017/06/08/数组中取出最大值/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2017-06-08
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="数组中取出最大值"><a href="#数组中取出最大值" class="headerlink" title="数组中取出最大值"></a>数组中取出最大值</h1><h3 id="1-项目需求"><a href="#1-项目需求" class="headerlink" title="1. 项目需求"></a>1. 项目需求</h3><p>​    有一个模型数组arr, 其中模型model中有个字段num, 我需要找出所有模型中最大的一个</p>
<h3 id="2-解决方案分析"><a href="#2-解决方案分析" class="headerlink" title="2. 解决方案分析"></a>2. 解决方案分析</h3><p>​    我们第一印象肯定是遍历数组, 取出模型, 然后在取出num字段, 然后进行比较, 取出最大值. 但是本文, 就要另辟蹊径, 用一个更优雅的方法两行代买搞定</p>
<h3 id="3-代码"><a href="#3-代码" class="headerlink" title="3. 代码"></a>3. 代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 通过kvc方式取出num</span><br><span class="line">NSArray *temArr = [arr valueForKeyPath:@&quot;num&quot;];</span><br><span class="line">// 这步是重点,直接取出最大值</span><br><span class="line">CGFloat maxNum = [[temArr valueForKeyPath:@&quot;@max.integerValue&quot;] integerValue];</span><br></pre></td></tr></table></figure>
<h3 id="4-注意事项"><a href="#4-注意事项" class="headerlink" title="4. 注意事项"></a>4. 注意事项</h3><p>​    如果你的模型中的num不是对象, 那么第一行代码就会直接崩掉, 因为基础类型的数是不能放到oc数组中的 , 所以, 建立模型的时候一定要用NSNmuber类型的num字段, 这样才能放入temArr数组, 当然如果你直接拥有一个装有NSNmuber类型的数组, 直接执行第二步, 就可以获得组大值.</p>
<h3 id="5-扩展"><a href="#5-扩展" class="headerlink" title="5. 扩展"></a>5. 扩展</h3><p>​    仿照上面的用法还可以获得数组中的最小值, 平均值等的 key值如下, </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@”@max.floatValue”//（获取最大值）， </span><br><span class="line">@”@min.floatValue”//（获取最小值）， </span><br><span class="line">@”@avg.floatValue” //(获取平均值)， </span><br><span class="line">@”@count.floatValue”//(获取数组大小)</span><br></pre></td></tr></table></figure>
<p>好了这次就总结到这里, 希望看到此页的你撸码愉快!!!!!!</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2017/06/08/数组中取出最大值/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2017/03/14/JPush的坑/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2017-03-14
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="JPush的坑"><a href="#JPush的坑" class="headerlink" title="JPush的坑"></a>JPush的坑</h1><p>​    搞了一下午, 没有高出来, 最终在一个同事的提醒下终于弄好了, 废话不多说直接上代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> 初始化极光推送</span><br><span class="line"> */</span><br><span class="line">- (void)setJPush:(NSDictionary *)launchOptions &#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    //初始化APNs</span><br><span class="line">    JPUSHRegisterEntity * entity = [[JPUSHRegisterEntity alloc] init];</span><br><span class="line">    entity.types = JPAuthorizationOptionAlert|JPAuthorizationOptionBadge|JPAuthorizationOptionSound;</span><br><span class="line">    if ([[UIDevice currentDevice].systemVersion floatValue] &gt;= 8.0) &#123;</span><br><span class="line">        // 可以添加自定义categories</span><br><span class="line">        // NSSet&lt;UNNotificationCategory *&gt; *categories for iOS10 or later</span><br><span class="line">        // NSSet&lt;UIUserNotificationCategory *&gt; *categories for iOS8 and iOS9</span><br><span class="line">    &#125;</span><br><span class="line">    [JPUSHService registerForRemoteNotificationConfig:entity delegate:self];</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    //初始换JPush</span><br><span class="line">    [JPUSHService setupWithOption:launchOptions appKey:JPushAppKey channel:nil apsForProduction:NO];</span><br><span class="line">    </span><br><span class="line">    //设置别名</span><br><span class="line">    [JPUSHService setTags:nil alias:@&quot;abc&quot; fetchCompletionHandle:^(int iResCode, NSSet *iTags, NSString *iAlias) &#123;</span><br><span class="line">        NSLog(@&quot;%@&quot;, iAlias);</span><br><span class="line">    &#125;];</span><br><span class="line">    </span><br><span class="line">//    [[NSNotificationCenter defaultCenter] addObserver:self</span><br><span class="line">//                                             selector:@selector(networkDidLogin:)</span><br><span class="line">//                                                 name:kJPFNetworkDidLoginNotification</span><br><span class="line">//                                               object:nil];</span><br><span class="line">//    关掉无法无天的log, 需要时再开启</span><br><span class="line">    [JPUSHService setLogOFF];</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面就是我的代码,  完全按照极光官方文档集成, 但是就是绑定不了别名。</p>
<p>下面我来说一下原因,   在JPush刚刚初始化后面直接调用设置标签很有可能极光那边还没有登录完成, 因为都是异步网络请求, 所以此时去绑定标签或者别名肯定是不行的, 解决方案就是 在初始化的地方设置登录极光成功的通知, 极光sdk中有一下几个通知, 并且还给了中文注释, 不愧为中国人写的哈, </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">extern NSString *const kJPFNetworkIsConnectingNotification; // 正在连接中</span><br><span class="line">extern NSString *const kJPFNetworkDidSetupNotification;     // 建立连接</span><br><span class="line">extern NSString *const kJPFNetworkDidCloseNotification;     // 关闭连接</span><br><span class="line">extern NSString *const kJPFNetworkDidRegisterNotification;  // 注册成功</span><br><span class="line">extern NSString *const kJPFNetworkFailedRegisterNotification; //注册失败</span><br><span class="line">extern NSString *const kJPFNetworkDidLoginNotification;     // 登录成功</span><br><span class="line">extern NSString *const kJPFNetworkDidReceiveMessageNotification;         // 收到消息(非APNS)</span><br><span class="line">extern NSString *const kJPFServiceErrorNotification;  // 错误提示</span><br></pre></td></tr></table></figure>
<p>所以, 正确的姿势应该这么写:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> 初始化极光推送</span><br><span class="line"> */</span><br><span class="line">- (void)setJPush:(NSDictionary *)launchOptions &#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    //初始化APNs</span><br><span class="line">    JPUSHRegisterEntity * entity = [[JPUSHRegisterEntity alloc] init];</span><br><span class="line">    entity.types = JPAuthorizationOptionAlert|JPAuthorizationOptionBadge|JPAuthorizationOptionSound;</span><br><span class="line">    if ([[UIDevice currentDevice].systemVersion floatValue] &gt;= 8.0) &#123;</span><br><span class="line">        // 可以添加自定义categories</span><br><span class="line">        // NSSet&lt;UNNotificationCategory *&gt; *categories for iOS10 or later</span><br><span class="line">        // NSSet&lt;UIUserNotificationCategory *&gt; *categories for iOS8 and iOS9</span><br><span class="line">    &#125;</span><br><span class="line">    [JPUSHService registerForRemoteNotificationConfig:entity delegate:self];</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    //初始换JPush</span><br><span class="line">    [JPUSHService setupWithOption:launchOptions appKey:JPushAppKey channel:nil apsForProduction:NO];</span><br><span class="line">    //添加监听通知</span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self</span><br><span class="line">                                             selector:@selector(networkDidLogin:)</span><br><span class="line">                                                 name:kJPFNetworkDidLoginNotification</span><br><span class="line">                                               object:nil];</span><br><span class="line">    [JPUSHService setLogOFF];</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">- (void)networkDidLogin:(NSNotification *)notification &#123;</span><br><span class="line">    [JPUSHService setTags:nil alias:@&quot;abc&quot; fetchCompletionHandle:^(int iResCode, NSSet *iTags, NSString *iAlias) &#123;</span><br><span class="line">        NSLog(@&quot;%@&quot;, iAlias);</span><br><span class="line">    &#125;];</span><br><span class="line">    //移除通知</span><br><span class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self</span><br><span class="line">                                                    name:kJPFNetworkDidLoginNotification</span><br><span class="line">                                                  object:nil];</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>经过上面的改造成功设置别名和标签,  希望做到这的小伙伴们别再才坑,   哦, 对了, 通知一定要记得移除哦! </p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2017/03/14/JPush的坑/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2017/01/09/阿里百川反馈和支付宝sdk冲突解决方案/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2017-01-09
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="阿里百川反馈和支付宝sdk冲突解决方案"><a href="#阿里百川反馈和支付宝sdk冲突解决方案" class="headerlink" title="阿里百川反馈和支付宝sdk冲突解决方案"></a>阿里百川反馈和支付宝sdk冲突解决方案</h1><p>总结一下从昨天晚上到今天上午踩过的坑, 希望能对大家有所帮助!</p>
<p>很多时候很多大事件貌似和我们没有关系, 但是冥冥中可能某天, 你就会感受到某个事件的影响,  比如阿里巴友盟收购了,  之前还觉得只是一个大公司收购一个小公司, 和自己没有啥关系, 但是慢慢地, 有些问题就开始暴露了,  前段时间,  友盟用户反馈sdk 突然停止服务,  给了一个阿里百川的服务, 让去迁移, 然后作为开发者,  你可以选择不用这些第三方服务,  但是为了节约开发成本,  又不得不去使用.  无奈只有去迁移.  </p>
<p>接第三方,  一个看起来类似搬运工的活,  但是有时候也会有很多坑要踩. 下面就说一下我遇到的坑吧!  </p>
<h3 id="1-cocoapods-导入YWFeedback的坑"><a href="#1-cocoapods-导入YWFeedback的坑" class="headerlink" title="1.  cocoapods 导入YWFeedback的坑"></a>1.  cocoapods 导入YWFeedback的坑</h3><p>​    因为项目中大部分第三方库都是使用cocoapods管理, 那么要接入第三方第一件事情肯定是要看看是否支持cocoapods,  看官方接入文档说可以支持cocoapods,  然后就按照文档写的去接入, 文档如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">source &apos;http://repo.baichuan-ios.taobao.com/baichuanSDK/AliBCSpecs.git&apos;</span><br><span class="line">source &apos;http://repo.baichuan-ios.taobao.com/baichuanSDK/AliBCSpecsMirror.git&apos;</span><br><span class="line"> </span><br><span class="line">target &apos;YourTargetName&apos; do</span><br><span class="line">    pod &apos;YWFeedbackFMWK&apos;, &apos;~&gt; 2.0.3.1&apos;</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>看完果断Copy  and  paste,  然后通过终端执行命令  <strong>pod update –no-repo-update </strong>  然后就是静待,   这个过程非常慢, 然后我就一直盯着终端 , 突然就发现一个问题, 就是明明我是执行的更新,  不知道为啥所有文件都重新安装了一遍,   然后安装到baidumapsdk的时候突然报错, 一大堆红,  看了一下, 貌似说是远程端的错误, 好像是不存在这样的库, 反正没有懂,  但是据我猜测应该是   Copy过来的前两行  source的问题,  于是乎吧那两行注释掉重新更新, 这次倒是很干脆直接报  YWFeedbackFMWK 不存在,   然后就联想了一下, 难道这个东西必须得上这个source上下载?  但是使用这两行代码就会报错, 这可如何是好,  以前从来没有研究过 podfile文件,  这次实在搞不懂,  于是乎开始找podfile 语法,    百度关键字”podfile 语法”  找到了一个比较优秀的文章 <a href="http://www.jianshu.com/p/8af475c4f717" target="_blank" rel="noopener">Podfile语法参考(译)</a>  里面写了这样一段内容,  直接解决了我的疑问</p>
<h2 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h2><p>Podfile检索了所有sources(repos)中的specs</p>
<p>Sources是<code>全局的</code>，不存储在每个target定义里面</p>
<h3 id="source"><a href="#source" class="headerlink" title="source"></a>source</h3><p>指定specs的位置</p>
<p>使用这个方法指定sources。sources的顺序是有关系的的。CocoaPods将使用pod第一次出现的source中的最高版本（后续的source中哪怕出现了更高的版本，也不予考虑）</p>
<p>cocoapods 官方source是隐式的需要的，一旦你指定了其他source 你就需要也把官方的指定上</p>
<p>例子:</p>
<p>指定Artsy库然后带上官方的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CocoaPods Master Repository</span><br><span class="line"></span><br><span class="line">source &apos;https://github.com/artsy/Specs.git&apos;</span><br><span class="line">source &apos;https://github.com/CocoaPods/Specs.git&apos;</span><br></pre></td></tr></table></figure>
<p>也就是说我的podfile文件中没有指定 默认的两个source, 导致了百度地图等很多第三方库找不到,  所以报错 加入这两行(注意一定要注意顺序) , 然后就顺利解决了这个问题,   然后继续在终端中执行<strong>pod update –no-repo-update</strong> 本以为万事大吉,  但是事情总是出乎意料, 接下来就开始说重点了:  支付宝<strong>AlipaySDK</strong>与阿里百川用户反馈<strong>YWFeedbackFMWK</strong>的冲突!</p>
<p>pod库更新完成后, 编译,报一个error,  按理说通过pod导入的第三方库, 环境都是默认配置好的, 不应该报错的, 但总是用这么一个意外.   下面是是报错信息我直接拷贝出来吧,  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">ld: warning: object file (/Users/wangjunling/Desktop/AAA-iOS/khb/Vendor/UMSocial_Sdk_Extra_Frameworks/SinaSSO/libSocialSinaSSO.a(UMSocialSinaSSOHandler.o)) was built for newer iOS version (8.2) than being linked (7.0)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDAES in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDAES.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDAES in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDAES.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDBaseUtils in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDBaseUtils.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDBaseUtils in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDBaseUtils.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_AidRequester in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(AidRequester.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_AidRequester in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(AidRequester.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_AidManager in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(AidManager.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_AidManager in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(AidManager.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDIntUtils in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDIntUtils.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDIntUtils in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDIntUtils.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDStringUtils in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDStringUtils.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDStringUtils in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDStringUtils.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDTypeConvert in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDTypeConvert.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDTypeConvert in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDTypeConvert.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDMain in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDMain.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDMain in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDMain.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDOpenUDID in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDOpenUDID.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDOpenUDID in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDOpenUDID.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDHelper in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDHelper.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDHelper in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDHelper.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_AidStorage in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(AidStorage.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_AidStorage in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(AidStorage.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDevice in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDevice.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDevice in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDevice.o)</span><br><span class="line">duplicate symbol _OBJC_IVAR_$_UTDIDKeychainItemWrapper.genericPasswordQuery in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDKeychainItemWrapper.o)</span><br><span class="line">duplicate symbol _OBJC_IVAR_$_UTDIDKeychainItemWrapper.keychainItemData in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDKeychainItemWrapper.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDKeychainItemWrapper in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDKeychainItemWrapper.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDKeychainItemWrapper in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDKeychainItemWrapper.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDPersistentConf in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDPersistentConf.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDPersistentConf in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDPersistentConf.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDPersistentFile in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDPersistentFile.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDPersistentFile in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDPersistentFile.o)</span><br><span class="line">duplicate symbol _OBJC_METACLASS_$_UTDIDGTMBase64 in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDGTMBase64.o)</span><br><span class="line">duplicate symbol _OBJC_CLASS_$_UTDIDGTMBase64 in:</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/Pingpp/lib/Channels/Alipay/AlipaySDK.framework/AlipaySDK</span><br><span class="line">    /Users/wangjunling/Desktop/AAA-iOS/Pods/UTDID/UTDID.framework/UTDID(UTDIDGTMBase64.o)</span><br><span class="line">ld: 34 duplicate symbols for architecture arm64</span><br><span class="line">clang: error: linker command failed with exit code 1 (use -v to see invocation)</span><br></pre></td></tr></table></figure>
<p>对于经验丰富的老程序员来说一看可能就知道是什么意思了,  但是我还没有遇到过这样的问题,  第一件事当然是百度啦,  关键字”clang: error: linker command failed with exit code 1 (use -v to see invocation)” 找了一堆,没有找到问题是什么原因,   换关键字”ld: 34 duplicate symbols for architecture arm64<br>clang: error: linker command failed with exit code 1 (use -v to see invocation)” 终于看到一个比较好的描述的文章, 里面大概意思是说, 有文件冲突, 或者重名,  然后我才想起来看看上面的报错信息,  仔细分析发现,  原来是alipaysdk 和百川sdk里面的UTDID文件冲突, 也许是因为同一个公司的缘故吧, 在做封装的时候封装了相同的库, 造成了冲突.  算是找到了报错原因, 接下来就是慢慢的找解决方案路.</p>
<p>百度关键词”iOS 开发第三方库冲突”,  又是一堆烂帖子博客, 挨个去看, 其实最大的感触就是在中国的博客上都是相互抄袭,  甚至一个人写错了, 一堆人都跟着错, 真不明白那些人抄袭这样的博客有啥用,  就算你抄也抄经典的,  然后加入自己的思想, 这样也算是进步对吧!  有人会问我那你为啥不去google搜索,  其实我到时想用google,  但是英文不好,  找不到好的关键字搜索的话, 用google并不见得比百度好,  比如你用百度搜索”日历”,  然后日历就直接出来了,  但是你用google搜索calendar, 出来的就不是你想要的答案.  好了不扯淡,  下面是我找到的写的看起来靠谱点的博客, 关于解决多个第三方库冲突的文章, <a href="https://itony.me/674.html" target="_blank" rel="noopener">iOS 第三方库冲突的处理</a> ,  摘抄一下这篇文章的内容:    </p>
<ol>
<li>创建临时文件夹，用于存放armv7平台解压后的.o文件：<code>mkdir armv7</code></li>
<li>取出armv7平台的包：<code>lipo libx.a -thin armv7 -output armv7/libx-armv7.a</code></li>
<li>查看库中所包含的文件列表：<code>ar -t armv7/libx-armv7.a</code></li>
<li>解压出object file（即.o后缀文件）：<code>cd armv7 &amp;&amp; ar xv libx-armv7.a</code></li>
<li>找到冲突的包（JSONKit），删除掉<code>rm JSONKit.o</code></li>
<li>重新打包object file：<code>cd .. &amp;&amp; ar rcs libx-armv7.a armv7/*.o</code>，可以再次使用[2]中命令确认是否已成功将文件去除</li>
<li>将其他几个平台(armv7s, i386)包逐一做上述[1-6]操作</li>
<li>重新合并为fat file的.a文件：<br><code>lipo -create libx-armv7.a libx-armv7s.a libx-i386.a -output libMiPushSDK-new.a</code></li>
<li>拷贝到项目中覆盖源文件：<br><code>cp libMiPushSDK-new.a /Users/tony/Desktop/XXXProject/Lib/libMiPushSDK.a</code></li>
</ol>
<p>看完文章感觉比较适合我的问题, 然后就开始按照步骤操作,  在执行到第4步的时候就出问题了,  终端中报错</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wangjunlingdeMacBook-Pro:librepack wangjunling$ ar -t armv7/libx-armv7.a</span><br><span class="line">ar: armv7/libx-armv7.a: Inappropriate file type or format</span><br></pre></td></tr></table></figure>
<p>然后我就怀疑是我自己的错, 重复n遍发现还是不行, 我就换个思路, 去打开那个utdid包, 然后打开后, 发现里面的全部内容, 都是冲突内容,  那么也就是说重新封装这个库是不可能的了,  alipay打不开,  这个有不能重新封装,  貌似所有的解决方案都没有了, 绝望中,  只能找到他们的客服,  下载一个叮叮客服端,  注册, 登录,  加他们提供的服务群, 然后就没信了, 可能是太晚了,  此时已经是凌晨一点了,  今天肯定是解决不了了, 无奈睡觉!</p>
<p>第二天, 一上班就看叮叮有没有通过我的申请,  一看有个客服回复消息了,  然后赶紧去咨询,  很明显这个问题应该是有人遇到过了,  客服直接和我说, 把UTDID删除,  问题是我删除了还是报错, 客服的意思是说吧支付宝里的UTDID删除,问题是iOS 10的是封装的.framework, 不可能去删除里面的东西, 而且通过上面的终端命令也试过,  根本打不开alipaysdk, 可能是他们有特殊加密,  后来客服说他们有一个不包含UTDID的alipaysdk,  然后将信将疑的把, 之前的alipaysdk换掉,  到此, 问题解决.  虽然最终的解决方式很没有技术含量, 但是这两天我收获了很多东西, 所以记录一下, 希望遇到同样问题的你, 在没有方案时不要绝望,  办法总是会有的, 坚持下去, 总会有收获!</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2017/01/09/阿里百川反馈和支付宝sdk冲突解决方案/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2017/01/06/字符串修剪/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2017-01-06
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="字符串修剪"><a href="#字符串修剪" class="headerlink" title="字符串修剪"></a>字符串修剪</h1><p>最近公司项目中需要字符串修剪, 而且项目中每个地方的需求还不太一样, 所以写了下面的一个分类,  感觉挺好用分享出来给大家, 希望遇到同样问题的同志少花时间, 注释比较清晰, 我就废话不多说了,  看代码  </p>
<ol>
<li><p>头文件</p>
<figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  NSString+JLTrim.h</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by 王俊岭 on 16/8/17.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSString</span> (<span class="title">JLTrim</span>)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  修剪字符串</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @param val          要修改的字符串</span></span><br><span class="line"><span class="comment"> *  @param characterSet 要去除的类型</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @return 修剪后的字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)trim:(<span class="built_in">NSString</span> *)val trimCharacterSet:(<span class="built_in">NSCharacterSet</span> *)characterSet;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  删除字符串前后空格</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @param val 原始字符串</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @return 修剪后字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)trimWhitespace:(<span class="built_in">NSString</span> *)val;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  删除字符串前后空行</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @param val 原始字符串</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @return 修改后字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)trimNewline:(<span class="built_in">NSString</span> *)val;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  删除字符串前后空行和空格</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @param val 原始字符串</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *  @return 修改后字符串</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">+ (<span class="built_in">NSString</span> *)trimWhitespaceAndNewline:(<span class="built_in">NSString</span> *)val;</span><br></pre></td></tr></table></figure>
<p>/**<br> 删除字符串中所有空格</p>
<p> @param val 原始字符串<br> @return 修改后的字符串<br> */</p>
<ul>
<li>(NSString <em>)trimAllWhitespace:(NSString </em>)val;</li>
</ul>
</li>
</ol>
<p>   /**<br>    删除字符创中所有回车</p>
<pre><code>@param val 原始字符串
@return 修改后字符串
*/
</code></pre><ul>
<li><p>(NSString <em>)trimAllNewLine:(NSString </em>)val;<br>   @end</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 实现文件</span><br><span class="line"></span><br><span class="line">   ```objc</span><br><span class="line">   //</span><br><span class="line">   //  NSString+JLTrim.m</span><br><span class="line">   //</span><br><span class="line">   //  Created by 王俊岭 on 16/8/17.</span><br><span class="line">   //</span><br><span class="line"></span><br><span class="line">   #import &quot;NSString+JLTrim.h&quot;</span><br><span class="line"></span><br><span class="line">   @implementation NSString (JLTrim)</span><br><span class="line">   + (NSString *)trim:(NSString *)val trimCharacterSet:(NSCharacterSet *)characterSet &#123;</span><br><span class="line">       NSString *returnVal = @&quot;&quot;;</span><br><span class="line">       if (val) &#123;</span><br><span class="line">          returnVal = [val stringByTrimmingCharactersInSet:characterSet];</span><br><span class="line">               &#125;</span><br><span class="line">       return returnVal;</span><br><span class="line">       &#125;</span><br><span class="line">   + (NSString *)trimWhitespace:(NSString *)val &#123;</span><br><span class="line">       return [self trim:val trimCharacterSet:[NSCharacterSet whitespaceCharacterSet]]; //去掉前后空格</span><br><span class="line">   &#125;</span><br><span class="line">   + (NSString *)trimNewline:(NSString *)val &#123;</span><br><span class="line">       return [self trim:val trimCharacterSet:[NSCharacterSet newlineCharacterSet]]; //去掉前后回车符</span><br><span class="line">   &#125;</span><br><span class="line">   + (NSString *)trimWhitespaceAndNewline:(NSString *)val &#123;</span><br><span class="line">       return [self trim:val trimCharacterSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]]; //去掉前后空格和回车符</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   + (NSString *)trimAllWhitespace:(NSString *)val &#123;</span><br><span class="line">       NSMutableString *mutStr = [NSMutableString stringWithString:val];</span><br><span class="line">       NSRange range = &#123;0,val.length&#125;;</span><br><span class="line">       [mutStr replaceOccurrencesOfString:@&quot; &quot; withString:@&quot;&quot; options:NSLiteralSearch range:range];</span><br><span class="line">       return mutStr.copy;</span><br><span class="line">   &#125;</span><br><span class="line">   + (NSString *)trimAllNewLine:(NSString *)val &#123;</span><br><span class="line">       NSMutableString *mutStr = [NSMutableString stringWithString:val];</span><br><span class="line">       NSRange range = &#123;0,val.length&#125;;</span><br><span class="line">       [mutStr replaceOccurrencesOfString:@&quot;\n&quot; withString:@&quot;&quot; options:NSLiteralSearch range:range];</span><br><span class="line">       return mutStr.copy;</span><br><span class="line">   &#125;</span><br><span class="line">   @end</span><br></pre></td></tr></table></figure>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>stringByTrimmingCharactersInSet 这个方法只能删除字符串两端的字符, 不能对字符串中间的字符进行操作, 所以想删除字符串中间的字符就需要字符串替换的方法replaceOccurrencesOfString </p>
</li>
</ul>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2017/01/06/字符串修剪/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2016/12/28/mac支持NTFS/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2016-12-28
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="mac支持NTFS"><a href="#mac支持NTFS" class="headerlink" title="mac支持NTFS"></a>mac支持NTFS</h1><p>​    所有的办法都是在没有办法的情况下才能找到,  之前一直用的 Paragon NTFS, 当然虽然是程序员有两种方式, 一种就是支持自己的事业,用收费的, 另一种就是发挥自己的特长, 去破解.  无奈承担不起Paragon NTFS每个版本更新都要重新购买的费用, 如果一次购买终身有效19.9刀结果面前可以接受.  但是破解版的终归不是最终的解决方案, 系统升级或软件升级之后就会一堆头疼的事, 最主要的是Paragon NTFS这个软件稳定性不是很好, 尤其是大批量大文件拷贝时, 有时候会在拷贝中途报错, 这是让人不能忍受的,  说这么多废话, 那么有没有一种更好的办法解决呢,  有, 当然有, 哈哈, 接下来就是重点: 挖掘mac系统的潜力.</p>
<p>​    首先, 插上NTFS格式的硬盘, 打开终端(为了照顾非程序员, 解释一下什么是终端, 就是mac系统下类似Windows中的cmd命令窗口的一个东西, 在mac的launchpad中的搜索框中直接搜索”终端”即可找到). 输入一下命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list</span><br></pre></td></tr></table></figure>
<p>​    按回车键会得到如下图所示,  找到你的磁盘名称,  我的叫 HD-E1 ,  上面的命令目的就是查看磁盘卷标名称;执行以下命令:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/fstab</span><br></pre></td></tr></table></figure>
<p>按回车键后会让你输入密码, 因为这个文件为系统文件所以修改时需要密码,  终端中输入密码是光标不会变化, 只管输入就行.  输入完成后会打开这个文件, 如下图:</p>
<p>现在需要编辑这个文件,  按i键进入编辑状态吧下面的一行代码拷贝到文件中,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LABEL=FreeAgent\040GoFlex\040Drive none ntfs rw,auto,nobrowse</span><br></pre></td></tr></table></figure>
<p>粘贴完成之后, 按下esc键结束编辑  然后按下  :  键,  在冒号后面输入  wq  回车,  wq是保存并退出的意思!  到这基本就打工搞成, 拔掉硬盘重新插入,  你会发现竟然没有硬盘了,  哈哈,  是不是自己操作错了,  没关系, 其实你没有错, 只是你的磁盘挂在到Volumes,   如果你的电脑打开了隐藏文件显示功能, 你就能在Macintosh HD磁盘下看到这个文件夹, 打开之后, 就可以找到你爹磁盘,  显然这么做事很愚蠢的事情, 那么有什么好的替代方案呢?  嘿, 这个还用问, 必须有,  给这个文件夹设置个快捷方式到桌面不就成了吗,  说做就做,  依然是在终端中, 执行以下代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -s /Volumes ~/Desktop/Volumes</span><br></pre></td></tr></table></figure>
<p>执行完你就会在桌面上看到一个Volumes的快捷方式了,  这次真正的打工搞成!  哈哈,  你真棒又一次完成了不可能完成的事, 让那些做ntfs驱动的公司都去倒闭吧[阴笑]</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2016/12/28/mac支持NTFS/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-">
    <header class="cube-excerpt-header">
        <h1><a href="/2016/08/24/NSCharacter​Set使用/"></a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2016-08-24
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="NSCharacterSet使用"><a href="#NSCharacterSet使用" class="headerlink" title="NSCharacterSet使用"></a>NSCharacterSet使用</h1><p>=</p>
<p>NSCharacterSet ，以及它的可变版本NSMutableCharacterSet，用面向对象的方式来表示一组Unicode字符。它经常与NSString及NSScanner组合起来使用，在不同的字符上做过滤、删除或者分割操作。为了给你提供这些字符是哪些字符的直观印象，请看看NSCharacterSet 提供的类方法：</p>
<ul>
<li>alphanumericCharacterSet                 //</li>
<li>capitalizedLetterCharacterSet</li>
<li>controlCharacterSet                 //控制符</li>
<li>decimalDigitCharacterSet        //小数</li>
<li>decomposableCharacterSet    //可分解</li>
<li>illegalCharacterSet    //非法字符</li>
<li>letterCharacterSet//文字</li>
<li>lowercaseLetterCharacterSet//小写字母</li>
<li>newlineCharacterSet     //回车</li>
<li>nonBaseCharacterSet</li>
<li>punctuationCharacterSet            //标点</li>
<li>symbolCharacterSet</li>
<li>uppercaseLetterCharacterSet </li>
<li>whitespaceAndNewlineCharacterSet//回车和空格</li>
<li>whitespaceCharacterSet    //空格</li>
</ul>
<p>与它的名字所表述的相反，NSCharacterSet 跟 NSSet 一点关系都没有。<br>虽然底层实现不太一样，但是 NSCharacterSet 在概念上跟 NSIndexSet 还有点相似的。NSIndexSet，之前提到过，表示一个有序的不重复的无符号整数的集合。Unicode字符跟无符号整数类似，大致对应一些拼写表示。所以，一个 NSCharacterSet +lowercaseCharacterSet 字符集与一个包含97到122范围的 NSIndexSet 是等价的。<br>现在我们对理解 NSCharacterSet 的基本概念已经有了少许自信，让我们来看一些它的模式与反模式吧：</p>
<p>###删除字符产前后空格<br>NSString -stringByTrimmingCharactersInSet: 是个你需要牢牢记住的方法。它经常会传入 NSCharacterSet +whitespaceCharacterSet 和 +whitespaceAndNewlineCharacterSet 来删除输入字符串的头尾的空白符号, 或者传入uppercaseLetterCharacterSet和lowercaseLetterCharacterSet删除首尾大小写</p>
<p>###删除字符串中所有空格<br>假设你去掉字符串两端的多余空格之后，还想去除单词之间的多余空格，这里有个非常简便的方法：</p>
<pre><code>NSString *string = @&quot;Lorem    ipsum dolar   sit  amet.&quot;;
string = [string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]];

NSArray *components = [string componentsSeparatedByCharactersInSet:[NSCharacterSet     whitespaceCharacterSet]];
components = [components filteredArrayUsingPredicate:[NSPredicate predicateWithFormat:@&quot;self     &lt;&gt; &apos;&apos;&quot;]];
string = [components componentsJoinedByString:@&quot; &quot;];
</code></pre><p>首先，删除字符串首尾的空格；然后用 NSString -componentsSeparatedByCharactersInSet: 在空格处将字符串分割成一个 NSArray；再用一个 NSPredicate 去除空串；最后，用 NSArray -componentsJoinedByString: 用单个空格符将数组重新拼成字符串。注意：这种方法仅适用于英语这种用空格分割的语言</p>
<p>###字符串分词<br>不要用 NSCharacterSet 来分词。 用 CFStringTokenizer 来替代它。<br>你用 componentsSeparatedByCharactersInSet: 来清理用户输入是可以谅解的，但是用它来做更复杂的事情，你将陷入痛苦的深渊。<br>为什么？请记住，语言并不是都用空格作为词的分界。虽然实际上以空格分界的语言使用非常广泛。但哪怕只算上中国和日本就已经有十多亿人，占了世界人口总量的 16%。<br>……即使是用空格分隔的语言，分词也有一些模棱两可的边界条件，特别是复合词汇和标点符号。<br>以上只为说明：如果你想将字符串分成有意义的单词，那么请用 CFStringTokenizer （或者 enumerateSubstringsInRange:options:usingBlock:）吧。</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2016/08/24/NSCharacter​Set使用/">Read More</a>
    </footer>
</div>



<ul class="cube-pagination cube-pagination-6">
    
    <li class="cube-pagination-prev disabled">
        <span>« Prev</span>
    </li>
    
    
        
            
            <li class="cube-pagination-index disabled">
                <span>1</span>
            </li>
            
        
            
            <li class="cube-pagination-index">
                <a href="/page/2">2</a>
            </li>
            
        
    

    
    <li class="cube-pagination-next">
        <a href="/page/2/">Next »</a>
    </li>
    
</ul>

<!--其他组件后续添加-->
        </div>
        <div class="cube-right">
            

<div class="cube-search cube-sidebar" id="cube-search">
    <div class="search-container">
        <input type="text" placeholder="Search" class="cube-search-input" id="cube-search-input">
        <i class="cube-icon cube-icon-search cube-search-submit" aria-hidden="true"></i>
    </div>
    <!-- TODO 通过给window赋一个全局变量，通过脚本赋值 -->
</div>
<script>
    (function (window) {
        'use strict';
        window.searchModule = {}
        window.searchModule.JSONUrl = '/content.json'
        window.searchModule.rootUrl = '/'
    })(window)
</script>
<div class="cube-search-form">
    <div class="cube-search-control">
        <input type="text" placeholder="Search" class="search-input">
        <a class="close-button">
            <i class="cube-icon cube-close" aria-hidden="true"></i>
        </a>
    </div>
    <div class="cube-search-result"></div>
</div>


<div class="cube-author cube-sidebar" id="cube-author">
    
    
    <span>崇山峻岭</span>
    
    
    <a title="Coding, Runing, Sharing">Coding, Runing, Sharing</a>
    
    <div class="count">
        <a class="count articles"><span>11</span>Article</a>
        <a class="count tags"><span>0</span>Tags</a>
        <a class="count categories"><span>0</span>Categories</a>
    </div>
</div>



<div class="cube-music cube-sidebar" id="cube-music">
    <div class="cube-player aplayer" id="cube-player"></div>
</div>
<script>
    (function (window) {
        window.musicModule = {}
        window.musicModule.musicConfig = '{"narrow":false,"autoplay":false,"showlrc":3,"theme":"#b7daff","mutex":true,"mode":"circulation","preload":"auto","listmaxheight":"513px","music":[{"title":"Dear friends","author":"TRIPLANE","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/TRIPLANE - Dear friends.mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/Dear friends - TRIPLANE.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/TRIPLANE - Dear friends.jpg"},{"title":"Butter-Fly","author":"和田光司","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/和田光司 - Butter-Fly (ピアノヴァージョン).mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/Butter-Fly (ピアノヴァージョン) - 和田光司.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/和田光司 - Butter-Fly (ピアノヴァージョン).jpg"},{"title":"宵闇花火","author":"葉月ゆら","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/葉月ゆら - 宵闇花火.mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/宵闇花火 - 葉月ゆら.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/葉月ゆら - 宵闇花火.jpg"}]}'
        window.musicModule.lrcConfig = {
            open: 'Open Lyrics',
            close: 'Close Lyrics'
        }
    })(window)
</script>



<div class="cube-recent-posts cube-sidebar" id="cube-recent-posts">
    <div class="title">
        <a>Recent Posts</a>
    </div>
    <ul class="list">
        
        
        <li>
            <!-- TODO 如果文章要显示图片，那么在front-matter上添加preview属性(url or path) -->
            
            <div class="normal">
                <p class="index first">
                    <span>1</span>
                </p>
                <p class="title">
                    <a href="/2018/01/06/理财总结/" title=""></a>
                </p>
            </div>
            
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>2</span>
                </p>
                <p class="title">
                    <a href="/2017/08/24/iOS开发之VFL布局总结/" title=""></a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>3</span>
                </p>
                <p class="title">
                    <a href="/2017/08/18/iOS开发 const 和 static 关键字的作用/" title=""></a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>4</span>
                </p>
                <p class="title">
                    <a href="/2017/06/16/画图/" title=""></a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>5</span>
                </p>
                <p class="title">
                    <a href="/2017/06/08/数组中取出最大值/" title=""></a>
                </p>
            </div>
        </li>
        
        
    </ul>
</div>







<div class="cube-links cube-sidebar" id="cube-links">
    <div class="title">
        <a>Links</a>
    </div>
    <ul class="list">
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/GitHub.png">
            
            <a href="https://github.com/ZEROKISEKI" target="_blank">GitHub</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/Coding.png">
            
            <a href="https://coding.net/u/SORA1" target="_blank">Coding</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/SF.png">
            
            <a href="https://segmentfault.com/u/aonosora" target="_blank">SF社区</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/开发者头条.png">
            
            <a href="https://toutiao.io/u/148070" target="_blank">开发者头条</a>
        </li>
        
    </ul>
</div>



<div class="cube-friend-links cube-sidebar" id="cube-friend-links">
    <div class="title">
        <a>Friend Links</a>
    </div>
    <ul class="list">
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="http://cube-1252774894.cosgz.myqcloud.com/friend_links/micblo.png">
            <a href="https://blog.micblo.com/" target="_blank">罗大佬</a>
        </li>
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="http://cube-1252774894.cosgz.myqcloud.com/friend_links/DIYgod.jpg">
            <a href="https://www.anotherhome.net/" target="_blank">DIYgod</a>
        </li>
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="/images/friend_links.jpg ">
            <a href="https://aonosora.com/" target="_blank">咪西西の部落格</a>
        </li>
        
    </ul>
</div>


        </div>
    </div>
</div>
<footer class="cube-footer">
    
© 2017 崇山峻岭

<br>
Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/ZEROKISEKI" target="_blank">AONOSORA</a>
</footer>
<!-- inject:script -->
<script src="/js/script.js"></script>
<!-- endinject -->
<div class="cube-loading out"></div>
</body>
</html>